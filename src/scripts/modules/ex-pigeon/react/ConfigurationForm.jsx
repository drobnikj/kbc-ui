import React, {PropTypes} from 'react';

import {FormGroup, FormControl, Form, ControlLabel, Col, Checkbox, InputGroup, Button} from 'react-bootstrap';
import ClipboardButton from '../../../react/common/Clipboard';

export default React.createClass({

  propTypes: {
    updateDirtyParameters: PropTypes.func.isRequired,
    dirtyParameters: PropTypes.object.isRequired,
    requestedEmail: PropTypes.string.isRequired
  },
  render()  {
    return (
    <Form horizontal>
      <FormGroup>
        <Col componentClass={ControlLabel} sm={4}>
          Email
        </Col>
        <Col sm={8}>
          <InputGroup>
            <FormControl
                type="email"
                placeholder=""
                readonly
                value={this.props.requestedEmail}
                title="Email generated by Pigeon"/>
              <InputGroup.Button>
                <Button bsSize="lg">
                  <ClipboardButton text={this.props.requestedEmail} label="Copy email" />
                </Button>
              </InputGroup.Button>
            </InputGroup>
        </Col>
      </FormGroup>
      <FormGroup>
        <Col componentClass={ControlLabel} sm={4}>
          Delimeter
        </Col>
        <Col sm={8}>
          <FormControl
              type="text"
              placeholder="Field delimeter used in CSV files"
              value={this.props.dirtyParameters.get('delimiter')}
              onChange={(e) => this.props.updateDirtyParameters('delimiter', e.target.value)}/>
        </Col>
      </FormGroup>
      <FormGroup>
        <Col componentClass={ControlLabel} sm={4}>
          Enclosure
        </Col>
        <Col sm={8}>
          <FormControl
              type="text"
              placeholder="Field enclosure used in CSV files"
              value={this.props.dirtyParameters.get('enclosure')}
              onChange={(e) => this.props.updateDirtyParameters('enclosure', e.target.value)}/>
        </Col>
      </FormGroup>
      <FormGroup>
        <Col componentClass={ControlLabel} sm={4}>
          Incremental
        </Col>
        <Col sm={8}>
          <Checkbox
              checked={this.props.dirtyParameters.get('incremental')}
              onChange={(e) => this.props.updateDirtyParameters('incremental', e.target.checked)}>
              Incremental load
          </Checkbox>
        </Col>
      </FormGroup>
    </Form>);
  }
});
